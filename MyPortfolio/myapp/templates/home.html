{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Prakhar Prakash</title>
  <link rel="icon" href="{% static 'images/logo.png' %}" type="image/x-icon">
  <!-- <link rel="preload" href="optimized-image.webp" as="image"> -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link href="{% static 'css/style.css' %}" rel="stylesheet">


  <style>
    .active {
      background-color: #000000;
      /* display: flex; */
    }

    [id^="pic"] {

      margin-left: 0%;
      border: 15px solid #32403f;
      margin-bottom: 10px;
      margin-right: 40px;
      border-style: ridge;
      min-width: 400px;
      width: 400px;
      /* overflow: hidden; */
      object-fit: cover;
      overflow: hidden;
      height: 300px;
    }

    [id^="pdf"] {
      min-width: 400px;
      width: 400px;
      height: 300px;
      border: 9px solid #3e8b95;
      border-style: ridge;
      object-fit: cover;
      overflow: hidden;
      align-self: center;

    }

    .hide {
      display: none;
    }

    #readMoreBtn {
      /* width: 100%; */
      background-color: #1bf1f43d;
      border-collapse: collapse;
      border: 0px;
      margin-left: -1%;
      /* text-decoration: underline; */
      width: 105%;
      font-family: inherit;
      letter-spacing: 2px;
      font-weight: 600;
    }
    
/* Basic styling for the chat popup */
.chat-popup {
    top: 10px;
    position: fixed;
    height: max-content;
    bottom: 0;
    right: 0px;
    width: 300px;
    background-color: #fff;
    border: 1px solid #ccc;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    display: none;
    z-index: 1000;
    overflow: auto;
}

.chat-header {
    background-color: #007bff;
    color: #fff;
    padding: 10px;
    cursor: pointer;
}

.chat-body {
    /* padding: 10px; */
    border: 8px solid #a2a2ff;
    margin-top: 5%;
    padding: 5%;
    border-style: ridge;
}
.chat-btn {
    letter-spacing: 2px;
    position: fixed;
    object-fit: fill;
    top: 0;
    bottom: 20px;
    width: max-content;
    font-family: inherit;
    right: -174px;
    font-weight: 600;
    background-color: #254c76;
    color: #fff;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    z-index: 1000;
}
.chat-btn:hover {
    background-color: #0056b3;
}
.notice-header,.chat-body p:first-child{
    font-size: x-large;
    font-weight: 600;
    color: midnightblue;
    width: fit-content;
    font-weight: 600;
    font-family: cursive;
}
.chat-body p{    align-self: baseline;
    font-size: 13px;
    margin-top: 5px;
    font-weight: 600;
    letter-spacing: 2px;
    word-spacing: 4px;
    color: black;
    padding: 2px;}
    @media (min-width: 390px) and (max-width:900px) {
      [id^="pdf"] {
        min-width: 28%;
        width: 38%;
        height: 330px;
        border: 9px solid #3e8b95;
        border-style: ridge;
        object-fit: cover;
        overflow: hidden;
        align-self: center;

      }

      [id^="pic"] {
        margin-left: 23%;
        border: 15px solid #32403f;
        margin-bottom: 10px;
        margin-right: 40px;
        border-style: ridge;
        min-width: 100%;
        width: 100%;
        /* overflow: hidden; */
        object-fit: cover;
        overflow: hidden;
        height: 624px;

      }

      .navigation {
        margin-bottom: 58%;
        margin-top: 15%;
        margin-left: 21%;
        width: 147vw;
        padding-left: 79px;
        background-color: #1bf1f43d;
      }
    }

    @media (min-width: 350px) and (max-width:667px) {
      [id^="pic"] {
        margin-left: 1%;
        border: 15px solid #32403f;
        margin-bottom: 10px;
        margin-right: -22%;
        border-style: ridge;
        min-width: 100%;
        width: 100%;
        /* overflow: hidden; */
        object-fit: cover;
        overflow: hidden;
        min-height: 500px;
        height: 500px;
        align-self: center;
      }
.chat-btn{
  top: 53px;
}
      #profile-pic {
        display: flex;
        margin-left: 30%;
        border: 10px solid #000000;
        border-style: solid;
        width: 35%;
        height: 26%;
        border-radius: 180px;
      }

      [id^="pdf"] {
        min-width: 60%;
        width: 60%;
        height: 300px;
        border: 9px solid #3e8b95;
        border-style: ridge;
        object-fit: cover;
        overflow: hidden;
        align-self: center;
        min-width: 60%;
        width: 60%;
        height: 300px;
        border: 9px solid #3e8b95;
        border-style: ridge;
        object-fit: cover;
        overflow: hidden;
        align-self: center;
        margin-left: 11%;
        margin-bottom: 4%;

      }

      .navigation {

        margin-top: 42vh;
        padding-left: 15vw;
        margin-left: 10px;
      }

      #readMoreBtn {
        /* width: 100%; */
        background-color: #1bf1f43d;
        border-collapse: collapse;
        border: 0px;
        margin-left: -1%;
        text-decoration: underline;
        /* width: 45%; */
        font-size: xx-large;
        height: 120px;
        font-family: inherit;
        letter-spacing: 2px;
        font-weight: 600;
      }
    }

    @media (min-width: 760px) and (max-width:1200px) {
      [id^="pic"] {
        margin-left: 19%;
        border: 15px solid #32403f;
        margin-bottom: 10px;
        margin-right: 40px;
        border-style: ridge;
        /* min-width: 500px; */
        width: 52vw;
        /* overflow: hidden; */
        object-fit: cover;
        overflow: hidden;
        /* min-height: 400px; */
        height: 115vh;
      }
    }

    /* For iphone */
    @media (max-width: 950px) {
      body {
        background-image: url("../images/landing.jpg") !important;
        /* background-image: url("staticfiles/images/landing.jpeg") !important; */
        background-size: cover;
        background-position: center;
        background-position: center;
        /* object-fit: cover; */
        display: flex;
        /* max-width: 100%; */
        height: 100%;
        width: 148%;
        background-repeat: no-repeat;
        background-attachment: fixed;
        overflow: auto;
        /* display: flex; */
        flex-direction: column;
        justify-content: center;
        font-family: Arial, sans-serif;
      }

      #profile-pic {
        width: 330px;
    border-radius: 437px;
      }

      body {
        background-image: url("../static/images/landing.jpg") !important;
      }

      .navigation {
        margin-top: 54vh;
    padding-left: 32vw;
    margin-left: 150px;
      }

      #cert-nav {
        margin-top: 5%;
    width: 50%;
    margin-left: 9%;
    padding-right: 43%;
    padding-left: 21%;
      }

      .dynamic-content {
        font-size: xxx-large;
        color: #bad3df;
        margin-bottom: 7%;
        font-weight: 600;
        margin-left: 7%;
        width: 107vw;
        min-height: 10vh;
        height: 10vh;
      }

      .portfolio-sub-heading {
        font-size: xx-large;
        letter-spacing: 9px;
        color: #b8deff;
        width: 114%;
        min-width: 114%;
        margin-left: 58%;
        align-self: center;
      }
    }
  </style>
</head>

<body>
  <header>
    <nav id="mobile-navbar" class="mobile-nav-menu navbar">
      <div class="hamburger" id="hamburgerIcon">
        <div></div>
        <div></div>
        <div></div>
      </div>
      <ul id="ul3">
        <li class="mobile-nav"><a href="#about">About</a></li>
        <li class="mobile-nav"><a href="#products">Projects</a></li>
        <li class="mobile-nav"><a href="#events">Portfolio</a></li>
        <li class="mobile-nav"><a href="#skillset">Skills</a></li>
        <li class="mobile-nav"><a href="#contact-section">Contact</a></li>
      </ul>
    </nav>

    <nav id="navbar" class="nav-menu navbar">
      <h1>Prakhar Prakash</h1>

      <ul id="ul1">
        <li class="nav-btns"><a href="#about" class="nav-link scrollto active"><i class="material-icons"></i> <span
              class="nav-items">About</span></a></li><br>
        <li class="nav-btns"><a href="#products" class="nav-link scrollto"><i class="material-icons"></i> <span
              class="nav-items">Projects</span></a></li><br>
        <!-- <li class="nav-btns"><a href="#show-resume" class="nav-link scrollto"><i class="material-icons"></i> <span class="nav-items" >Resume</span></a></li><br> -->
        <li class="nav-btns"><a href="#events" class="nav-link scrollto"><i class="material-icons"></i> <span
              class="nav-items">Portfolio</span></a></li><br>
        <li class="nav-btns"><a href="#skillset" class="nav-link scrollto"><i class="material-icons"></i> <span
              class="nav-items">Skills</span></a></li><br>
        <li class="nav-btns"><a href="#contact-section" class="nav-link scrollto"><i class="material-icons"></i> <span
              class="nav-items">Contact</span></a></li><br>
      </ul>
      <!-- <div class="button-type" id="ul2">
        <li class="nav-btns"><a href="#about" class="nav-link scrollto active"><i class="material-icons"></i> <span
              class="nav-items">Back to top</span></a></li><br>
        <!-- <li class="nav-btns"><a href="#open-to-work" class="nav-link scrollto"><i class="material-icons"></i> <span class="nav-items" >Services</span></a></li><br> -->
      <!-- <li class="nav-btns"><a href="#contact" class="nav-link scrollto"><i class="material-icons"></i> <span class="nav-items" >Contact</span></a></li><br> -->
      <!-- </div> -->
    </nav><!-- .nav-menu -->
  </header>
  <main>
    <section id="about" class="section-item">
      <svg class="zigzag-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 10" preserveAspectRatio="none">
        <path d="M0 5 L10 0 L20 10 L30 0 L40 10 L50 0 L60 10 L70 0 L80 10 L90 0 L100 10 L110 0 L120 10 L130 0 L140 10 L150 0 L160 10 L170 0 L180 10 L190 0 L200 10 L210 0 L220 10 L230 0 L240 10 L250 0 L260 10 L270 0 L280 10 L290 0 L300 5" stroke="gold" fill="none" stroke-width="2" />
      </svg>
      
      <div id="chat-popup" class="chat-popup">
        <div class="chat-header" onclick="toggleChatPopup()"><i class="fas fa-thumbtack"></i>  Hide message!</div>
        <div class="chat-body">
            <p>Prakhar's noticeboard!</p>
            <p>Dear guest,</p>
            <p>First of all, thank you for visiting my website.</p>
            <p>You can find the latest announcements and notifications by me over here.</p>
            <p class="notice-header">Update : </p>
            <p>Well, It seems there are no new Updates!</p>
         
            <p>Wish you a great day!</p>
            <!-- Add your chat content here -->
        </div>
    </div>
      <button id="chat-btn" class="chat-btn" onclick="toggleChatPopup()"><i class="fas fa-thumbtack"></i> You have a message from Prakhar</button>

      <h2 class="section-heading">About</h2>
      <img src="{% static '/images/old.jpg' %}" alt="Profile Pic" id="profile-pic">
      <br>
      <div class="snake-line"></div>

      <p class="about-section-content"></p>

    </section>

    <section id="products" class="section-item">
      <svg class="zigzag-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 10" preserveAspectRatio="none">
        <path d="M0 5 L10 0 L20 10 L30 0 L40 10 L50 0 L60 10 L70 0 L80 10 L90 0 L100 10 L110 0 L120 10 L130 0 L140 10 L150 0 L160 10 L170 0 L180 10 L190 0 L200 10 L210 0 L220 10 L230 0 L240 10 L250 0 L260 10 L270 0 L280 10 L290 0 L300 5" stroke="gold" fill="none" stroke-width="2" />
      </svg>
      
      <h2 class="section-heading">Projects</h2>
      <br>

      <!-- <h2>Projects</h2> -->
      <div class="gallery" id="gallery"></div>
      <div class="navigation">
        <button class="prev"><span>Previous</span></button>
        <button class="next"><span>Next</span></button>
      </div>

    </section>

    <section id="events" class="section-item">
      <svg id="events-zigzag" class="zigzag-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 10" preserveAspectRatio="none">
        <path d="M0 5 L10 0 L20 10 L30 0 L40 10 L50 0 L60 10 L70 0 L80 10 L90 0 L100 10 L110 0 L120 10 L130 0 L140 10 L150 0 L160 10 L170 0 L180 10 L190 0 L200 10 L210 0 L220 10 L230 0 L240 10 L250 0 L260 10 L270 0 L280 10 L290 0 L300 5" stroke="gold" fill="none" stroke-width="2" />
      </svg>
      
      <h2 class="section-heading">Portfolio</h2>
      <br>
      <div class="slideshow-container" id="slideshow-container"></div>
      <p class="event-section-subheading"></p>

      <br>
      <div class="dots" id="dots">
      </div>
    </section>
    <section class="section-item" id="skillset">
      <svg id="skills-zigzag" class="zigzag-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 10" preserveAspectRatio="none">
        <path d="M0 5 L10 0 L20 10 L30 0 L40 10 L50 0 L60 10 L70 0 L80 10 L90 0 L100 10 L110 0 L120 10 L130 0 L140 10 L150 0 L160 10 L170 0 L180 10 L190 0 L200 10 L210 0 L220 10 L230 0 L240 10 L250 0 L260 10 L270 0 L280 10 L290 0 L300 5" stroke="gold" fill="none" stroke-width="2" />
      </svg>
      
      <h2 class="section-heading">Languages & Skills</h2>
      <br>
      <div class="main-holder" id="main-holder">
        <!-- <h2>Technical Skills</h2> -->
        <div class="holder hide" id="holder1">

          <div class="skills" id="skills">

            <div class="skill" id="skill">
              <span>HTML</span>
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
              </div>
            </div>
            <div class="skill" id="skill">
              <span>CSS</span>
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>
            </div>
            <!-- Add more skills as needed -->
          </div>
        </div>
        <h2 class="sub-heading">Soft Skills</h2>
        <div class="holder" id="holder2">

          <div class="skills" id="skills">

            <div class="skill" id="skill">
              <span>Effective Communication</span>
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
              </div>
            </div>
            <div class="skill" id="skill2">
              <span>Project management</span>
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>
            </div>
            <div class="skill" id="skill3">
              <span>Running</span>
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>
            </div>
            <!-- Add more skills as needed -->
          </div>
        </div>
        <h2 class="sub-heading">Languages</h2>
        <div class="holder" id="holder3">

          <div class="skills" id="skills">

            <div class="skill" id="skill">
              <span>English</span>
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
              </div>
            </div>
            <div class="skill" id="skill4">
              <span>Hindi</span>
              <div class="stars">
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="fas fa-star"></i>
                <i class="far fa-star"></i>
                <i class="far fa-star"></i>
              </div>
            </div>
            <div class="skill" id="skill3">
              <span>German(Deutsch)</span>
              <div class="stars">
                <i class="fas fa-star"></i>

              </div>
            </div>
            <!-- Add more skills as needed -->
          </div>
        </div>
      </div>
      <button id="readMoreBtn">View More Skills</button>

    </section>
    <section id="education" class="section-item">
      <svg class="zigzag-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 10" preserveAspectRatio="none">
        <path d="M0 5 L10 0 L20 10 L30 0 L40 10 L50 0 L60 10 L70 0 L80 10 L90 0 L100 10 L110 0 L120 10 L130 0 L140 10 L150 0 L160 10 L170 0 L180 10 L190 0 L200 10 L210 0 L220 10 L230 0 L240 10 L250 0 L260 10 L270 0 L280 10 L290 0 L300 5" stroke="gold" fill="none" stroke-width="2" />
      </svg>
      
      <h2 class="section-heading">Education</h2>
      <div class="education-section" id="education-section">
        <h3>Bachelor's of Art(B.A)</h3>
        <p><span>University : </span> Mewar University, Chittorgarh</p>
        <p><span>Year : </span> 2014 -2017</p>
        <p><span>C.G.P.A : </span>7.6</p>
      </div>

    </section>

    <section id="certifications" class="section-item">
      <svg class="zigzag-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 10" preserveAspectRatio="none">
        <path d="M0 5 L10 0 L20 10 L30 0 L40 10 L50 0 L60 10 L70 0 L80 10 L90 0 L100 10 L110 0 L120 10 L130 0 L140 10 L150 0 L160 10 L170 0 L180 10 L190 0 L200 10 L210 0 L220 10 L230 0 L240 10 L250 0 L260 10 L270 0 L280 10 L290 0 L300 5" stroke="gold" fill="none" stroke-width="2" />
      </svg>
      
      <h2 class="section-heading">Licenses & Certifications</h2>
      <br>

      <h2 class="sub-heading">Certificates</h2>
      <div class="gallery" id="certificates"></div>
      <div class="navigation" id="cert-nav">
        <button class="prev" id="prev"><span>Previous</span></button>
        <button class="next" id="next"><span>Next</span></button>
      </div>

    </section>


    <section id="location" class="section-item">
      <svg class="zigzag-line" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 10" preserveAspectRatio="none">
        <path d="M0 5 L10 0 L20 10 L30 0 L40 10 L50 0 L60 10 L70 0 L80 10 L90 0 L100 10 L110 0 L120 10 L130 0 L140 10 L150 0 L160 10 L170 0 L180 10 L190 0 L200 10 L210 0 L220 10 L230 0 L240 10 L250 0 L260 10 L270 0 L280 10 L290 0 L300 5" stroke="gold" fill="none" stroke-width="2" />
      </svg>
      <h2 class="section-heading">Location & Avaliablity</h2>
      <br>
      <h3>Avaliablity</h3>
      <div class="locations" id="all-locations"></div>
      <br>
      <div class="snake-line"></div>
    </section>
 

  </main>
  <footer>
    <section id="contact-section">
      <h2 class="section-heading">Contact Me</h2>
      <div class="contact-item">
        <i class="fa fa-mobile" aria-hidden="true"></i> <!-- Mobile Icon -->
        <span>Mobile: +91 9625708656</span>
      </div>
      <div class="contact-item">
        <i class="fa fa-phone" aria-hidden="true"></i> <!-- Phone Icon -->
        <span>Phone: +91 9625708656</span>
      </div>
      <div class="contact-item">
        <i class="fa fa-whatsapp" aria-hidden="true"></i> <!-- WhatsApp Icon -->
        <span>WhatsApp: +91 9625708656</span>
      </div>
      <div class="contact-item">
        <i class="fa fa-envelope" aria-hidden="true"></i> <!-- Email Icon -->
        <span>Email: mr.prakhar@gmail.com</span>
      </div>
      <div class="contact-item">
        <a href="https://www.linkedin.com/in/prakhar-p-499757144" target="_blank" class="linkedin-link">
          <i class="fa fa-linkedin" aria-hidden="true"></i> <!-- LinkedIn Icon -->
          <span>LinkedIn: https://www.linkedin.com/in/prakhar-p-499757144</span>
        </a>
      </div>
      <div class="contact-item">
        <a href="https://prakhar3146@github.com/" target="_blank" class="github-link">
          <i class="fa fa-github" aria-hidden="true"></i> <!-- GitHub Icon -->
          <span>GitHub: https://prakhar3146@github.com/</span>
        </a>
      </div>
      <div class="contact-item">
        <a href="https://prakhar3146@instagram.com/" target="_blank" class="instagram-link">
          <i class="fa fa-instagram" aria-hidden="true"></i> <!-- GitHub Icon -->
          <span>Instagram: https://prakhar3146@instagram.com/</span>
        </a>
      </div>
      <div class="contact-item">
        <i class="fa fa-map-marker" aria-hidden="true"></i> <!-- Location Icon -->
        <span>Current Location: India</span>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d230265.56973041908!2d84.97822522957598!3d25.60825469578397!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39f29937c52d4f05%3A0x831a0e05f607b270!2sPatna%2C%20Bihar!5e0!3m2!1sen!2sin!4v1745187632252!5m2!1sen!2sin" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

        </a>
      </div>

      </div>
      <!-- <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d12097.433213460943!2d-74.0062269!3d40.7101282!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0xb89d1fe6bc499443!2sDowntown+Conference+Center!5e0!3m2!1smk!2sbg!4v1539943755621" frameborder="0" style="border:0; width: 100%; height: 290px;" allowfullscreen></iframe> -->

    </section>
    <p>&copy; Copywright 2025 Prakhar Prakash. All rights reserved.</p>
  </footer>
  <script>

    //Function to display images dynamically with description
    async function fetchImages(images_route, container_id, item_id_prefix, item_class) {
      const static_url = "{% static '' %}"; // Provide the static folder path dynamically from Django

      const response = await fetch(images_route); // Fetch the image data from your API
      const images = await response.json(); // Parse the response as JSON

      const gallery = document.getElementById(container_id);

      gallery.innerHTML = ''; // Clear the existing content
      counter = 0;
      // Populate the gallery with images
      images.forEach(img => {
        counter = counter + 1;
        const itemDiv = document.createElement("div");
        itemDiv.className = item_class;
        itemDiv.id = `${item_id_prefix}_${counter}`;

        const imgElement = document.createElement("img");
        imgElement.src = `${static_url}${img.src}`; // Dynamically set the src path
        // alert(imgElement.src)
        imgElement.alt = "Image";

        //Looping over each line after splitting it

        let parts = img.desc.split('*****');
        parts = parts.filter(item => item.trim() !== "");

        // alert(parts[1])
        itemDiv.appendChild(imgElement);
        para_counter = 0
        let pElement = document.createElement("p");
        for (let i = 0; i < parts.length; i++) {
          console.log(parts[i]);
          para_counter = para_counter + 1
          if (parts[i].trim().length === 0) {
            continue
          }

          //           if (img.src.includes("slideshow1_2")) {
          //     alert(parts[i]);
          // }

          // pElement.textContent = parts[i];
          pElement.className = "project-des"
          // pElement.id = `description_${counter}`;
          // alert(img.filename)  
          // Append text and span together
          if (para_counter == 1) {
            var headingElement = document.createElement("span");
            // headingElement.innerText = parts[i]
            headingElement.className = "dynamic-content"
            headingElement.innerText = img.filename.trim()
            pElement.appendChild(headingElement); // Append the span
            //  pElement.appendChild(headingElement)
            // alert(parts[i])

          }
          // alert(parts[i])
          var lineBreak = document.createElement("br")
          pElement.appendChild(lineBreak)
          pElement.appendChild(document.createTextNode(parts[i].trim())); // Add text node

          itemDiv.appendChild(pElement);
        }

        //If not the first image
        if (counter != 1) {
          // imgElement.style.display = "none";
          // pElement.style.display = "none";
          itemDiv.style.display = "none";

        }

        gallery.appendChild(itemDiv);
        para_counter += 1
      });
    }


    //Function to fetch pdf's

    //Function to display images dynamically with description
    let subheading = document.querySelectorAll(".document h5")
    async function fetchPdfs(images_route, container_id, item_id_prefix, item_class) {
      const static_url = "{% static '' %}"; // Provide the static folder path dynamically from Django

      const response = await fetch(images_route); // Fetch the image data from your API
      const images = await response.json(); // Parse the response as JSON

      const gallery = document.getElementById(container_id);

      gallery.innerHTML = ''; // Clear the existing content

      counter = 0;
      // Populate the gallery with images
      images.forEach(img => {
        counter = counter + 1;
        const itemDiv = document.createElement("div");
        itemDiv.className = item_class;
        itemDiv.id = `${item_id_prefix}_${counter}`;

        const imgElement = document.createElement("embed");
        imgElement.src = `${static_url}${img.src}`; // Dynamically set the src path
        // alert(imgElement.src)
        imgElement.alt = "Document";
        imgElement.type = "application/pdf"
        imgElement.id = `pdf${counter}`
        // imgElement.style.width = "30%"
        // imgElement.style.height = "60vh"

        const headingElement = document.createElement("span");
        headingElement.innerText = img.filename
        const pElement = document.createElement("p");
        // pElement.innerHTML= headingElement
        // pElement.textContent = img.desc;
        pElement.id = `description2_${counter}`;
        headingElement.className = "dynamic-subheading"
        // Append text and span together
        pElement.appendChild(headingElement); // Append the span
        pElement.appendChild(document.createTextNode(img.desc)); // Add text node
        pElement.appendChild(headingElement)

        //If not the first image
        if (counter != 1) {

          itemDiv.style.display = "none";

        }

        itemDiv.appendChild(imgElement);
        // itemDiv.appendChild(headingElement);
        itemDiv.appendChild(pElement);

        gallery.appendChild(itemDiv);
      });
    }


    document.addEventListener('DOMContentLoaded', fetchImages('/get_images', 'gallery', 'item', 'item'));
    // For certificate slideshow
    document.addEventListener('DOMContentLoaded', fetchPdfs('/get_certificates', 'certificates', 'document', 'document'));
    //Slideshow func
    const prevButton = document.querySelector('.prev');
    const nextButton = document.querySelector('.next');
    let currentIndex = 0;
    // Function to show the current image
    function showImage(images, index, des) {

      images.forEach((img, i) => {

        // img.parentElement.classList.toggle('unhide', i === index);
        img.parentElement.style.display = i === index ? "flex" : "none";
        // alert(subheading.length)
        // subheading.style.display = i === index ? "flex" : "none";
        // subheading.textContent = "changed"

        //     // Accessing and styling the grandparent element (if needed)
        const grandparent = img.parentElement.parentElement;
        //     // Check for a sibling of the grandparent with a specific class
        if (grandparent && grandparent.nextElementSibling) {
          const sibling = grandparent.nextElementSibling;

          //   // Verify if the sibling has the desired class
          if (sibling.classList.contains("sub-heading")) {
            sibling.style.display = i === index ? "flex" : "none";
            // sibling.textContent = 
            //     // sibling.style.backgroundColor = i === index ? "yellow" : "transparent"; // Example styling
            //     // sibling.style.border = i === index ? "2px solid red" : "none"; // Example styling
          }
        }




      });
      // des.forEach((descript, i) => {

      //   // img.classList.toggle('active', i === index);
      //   descript.style.display = i === index ? "block" : "none";

      // });
    }

    // Event listener for the "Next" button

    nextButton.addEventListener('click', () => {
      let images = document.querySelectorAll('.item img');
      let descriptions = document.querySelectorAll('.item p');

      // alert(descriptions);
      currentIndex = (currentIndex + 1) % images.length; // Loop to the next image
      console.log("Triggered Next");
      // alert("clicked next");
      showImage(images, currentIndex, descriptions);
    });
    // Event listener for the "Previous" button
    prevButton.addEventListener('click', () => {
      let images = document.querySelectorAll('.item img');
      let descriptions = document.querySelectorAll('.item p');
      const prevButton = document.querySelector('.prev');
      const nextButton = document.querySelector('.next');
      currentIndex = (currentIndex - 1 + images.length) % images.length; // Loop to the previous image
      showImage(images, currentIndex, descriptions);
    });


    // Event listener for the "Next" button for certificates slide
    let currentIndex2 = 0;
    const prevButton2 = document.querySelector('#prev');
    const nextButton2 = document.querySelector('#next');
    nextButton2.addEventListener('click', () => {
      let images = document.querySelectorAll('.document embed');
      let descriptions = document.querySelectorAll('.document p');


      // alert(descriptions);
      currentIndex2 = (currentIndex2 + 1) % images.length; // Loop to the next image
      console.log("Triggered Next");
      // alert("clicked next");
      showImage(images, currentIndex2, descriptions);
    });
    // Event listener for the "Previous" button
    prevButton2.addEventListener('click', () => {
      let images = document.querySelectorAll('.document embed');
      let descriptions = document.querySelectorAll('.document p');

      currentIndex2 = (currentIndex2 - 1 + images.length) % images.length; // Loop to the previous image
      showImage(images, currentIndex2, descriptions);
    });

    // When an element is not visible
    // document.addEventListener('DOMContentLoaded', () => {
    //   const triggerElement = document.getElementById('navbar');
    //   const hiddenElement = document.getElementById('ul3');

    //   const observer = new IntersectionObserver((entries) => {
    //     entries.forEach(entry => {
    //       if (!entry.isIntersecting) {
    //         // hiddenElement.classList.add('visible');
    //         hiddenElement.style.display = "flex";
    //       } else {
    //         // hiddenElement.classList.remove('visible');
    //         hiddenElement.style.display = "none";
    //       }
    //     });
    //   });

    //   observer.observe(triggerElement);
    // });

    // To read text data
    document.addEventListener('DOMContentLoaded', () => {
      fetch('static/text/about_us.txt')
        .then(response => response.text())
        .then(data => {
          const lines = data.split('\n');
          const select = document.getElementById('about');

          lines.forEach(line => {
            if (line.includes("*****")) {
              var headingElement = document.createElement('h3');
              headingElement.innerText = line.replace("*****", "");
              headingElement.className = "about-sub-heading";
              select.appendChild(headingElement);
              return
            }
            const option = document.createElement('p');
            option.className = "about-section-content"
            // option.value = line.trim();
            // const linebr = document.createElement('br');
            option.textContent = line.trim();
            select.appendChild(option);
            // select.appendChild(linebr)
          });
        })
        .catch(error => console.error('Error:', error));
    });

    let slideStatus = 0
    //Function to display images dynamically with description - portfolio
    async function fetchslides() {
      try {
        const static_url = "{% static '' %}"; // Provide the static folder path dynamically from Django
        // alert(`here`)
        const response = await fetch('/get_events'); // Fetch the image data from your API
        const images = await response.json(); // Parse the response as JSON
        
        const slideGallery = document.getElementById("slideshow-container");
        const dotElement = document.getElementById("dots");
        slideGallery.innerHTML = ''; // Clear the existing content
        counter = 0;
        // Populate the gallery with images

        images.forEach(img => {
          counter = counter + 1;
          let itemdiv = document.createElement("div");
          itemdiv.className = "mySlides fade";
          itemdiv.id = `slide item_${counter}`;
          //Adding image elements
          let imgElement = document.createElement("img");
          
          imgElement.src = `${static_url}${img.src}`; // Dynamically set the src path
          imgElement.alt = "Image";
          // imgElement.className="slide"
          imgElement.id = `pic${counter}`

          // Adding event description
          let pElement = document.createElement("p");
          pElement.textContent = img.desc;
          pElement.className = "portfolio-description"
          // alert(img.desc);
          // pElement.id = `slideshow_description_${counter}`;
          // pElement.className="slide"

          // Adding dotss
          let dot = document.createElement("span");
          dot.className = "dot";
          //Appending portfolio image
          itemdiv.appendChild(imgElement);
          //If not the first image

          var headingElement = document.createElement('h3');
          headingElement.innerText = img.heading
          headingElement.className = "portfolio-sub-heading";
          itemdiv.appendChild(headingElement);

          itemdiv.appendChild(pElement);
          slideGallery.appendChild(itemdiv);
          dotElement.appendChild(dot)
        });

        slideStatus = 1
      } catch(error){
        slideStatus = 2
        alert(`Error in the webpage - ${error}`)
      }
    }


    let slideIndex = 0; // Declare slideIndex globally to maintain its state

    function showSlides() {
      let i;
      let slides = document.querySelectorAll(".mySlides"); // Select all slide elements
      let dots = document.querySelectorAll(".dot");       // Select all dot elements

      // Hide all slides
      for (i = 0; i < slides.length; i++) {
        // alert(slides.length)
        slides[i].style.display = "none";
        slides[i].classList.remove("in-view")
      }

      // Remove "active" class from all dots
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
      }

      // Increment slideIndex
      slideIndex++;
      if (slideIndex > slides.length) {

        slideIndex = 1; // Reset to the first slide
      }

      // Show the current slide and add "active" class to the corresponding dot
      // alert(`Showing slide no${slideIndex-1}`)
      slides[slideIndex - 1].style.display = "flex";
      slides[slideIndex - 1].classList.add("in-view")
      dots[slideIndex - 1].className += " active";

      // Set a timeout to call the function again every 4 seconds
      setTimeout(showSlides, 10000);
    }


    async function fetchLocations() {
      const static_url = "{% static '' %}"; // Provide the static folder path dynamically from Django

      const response = await fetch('/get_locations'); // Fetch the image data from your API
      const locations = await response.json(); // Parse the response as JSON

      const element = document.getElementById('all-locations');

      element.innerHTML = ''; // Clear the existing content
      counter = 0;
      // Populate the gallery with images

      locations.forEach(img => {
        counter = counter + 1;
        // alert(img.desc)
        let pElement = document.createElement("p");
        pElement.textContent = img.desc;
        pElement.id = `loc_${counter}`;

        element.appendChild(pElement);
        // element.appendChild(itemDiv);
      });
    }

    // fetching Skillset
    async function fetchSkills() {
      const static_url = "{% static '' %}"; // Provide the static folder path dynamically from Django

      const response = await fetch('/get_skillset'); // Fetch the image data from your API
      const locations = await response.json(); // Parse the response as JSON

      let element = document.getElementById('skills');
      const skillSection = document.getElementById('skillset');
      const holder = document.getElementById('holder1');
      const mainHolder = document.getElementById('main-holder');
      let sectionTitle = document.createElement("h2");
      sectionTitle.innerText = "Technical Skills";
      sectionTitle.id = "technical-skills";
      sectionTitle.className = "sub-heading";
      element.innerHTML = ''; // Clear the existing content
      let counter = 0;
      // Populate the gallery with images
      let flag = false
      locations.forEach(img => {
        if (img.src.length == 0 || img.desc.length == 0) {
          alert("here")
          return;
        }
        counter = counter + 1;

        let numberOfStars = parseInt(img.desc, 10);

        let pElement = document.createElement("div");
        let title = document.createElement("span");
        title.textContent = img.src
        let ratingContainer = document.createElement("div");
        ratingContainer.className = "skill";
        let starsContainer = document.createElement("div");
        starsContainer.className = "stars";
        for (i = 0; i < numberOfStars; i++) {
          let liTag = document.createElement("li");
          liTag.className = "fas fa-star";
          starsContainer.appendChild(liTag)
        }

        // pElement.textContent = img.desc;

        pElement.id = `skill_${counter}`;
        pElement.className = "skill"


        // alert(pElement.innerHTML)
        if (counter % 5 == 0 && flag == false) {
          flag = true
        }
        if (flag == true) {
          let element2 = document.createElement("div");
          element2.className = "skills";
          element2.id = `skills_${counter}`
          // element2.appendChild(title)

          ratingContainer.appendChild(title)
          ratingContainer.appendChild(starsContainer)
          element2.appendChild(ratingContainer);
          // alert(`Appending : ${ratingContainer.innerText}`)
          holder.appendChild(element2)
          mainHolder.appendChild(sectionTitle)
          mainHolder.appendChild(holder)
          // skillSection.appendChild(mainHolder)


          element = document.getElementById(`skills_${counter}`)
          flag = false
        }
        else {
          pElement.appendChild(title)
          pElement.appendChild(starsContainer)
          element.appendChild(pElement);

        }
        // element.appendChild(itemDiv);
      });
    };


    readMoreBtn1 = document.getElementById("readMoreBtn");
    var hiddenContent = document.getElementById("holder1");

    readMoreBtn1.addEventListener("click", () => {
      // Toggle the 'hidden' class
      hiddenContent.classList.toggle("hide");

      // Update button text based on visibility
      if (hiddenContent.classList.contains("hide")) {
        readMoreBtn1.innerText = "View More Skills";
      } else {
        readMoreBtn1.innerText = "Read Less";
      }


    });


    // Triggers all the async functions 
    async function fetch_data() {
      // Fetch images once the DOM is ready
      await fetchslides();
      fetchLocations();
      fetchSkills();
      // Fetch images once the DOM is ready
      // alert(`Finally:${slideStatus}`)
      if (slideStatus === 1) {

        showSlides();
      }
     
    }
    document.addEventListener('DOMContentLoaded', fetch_data);

    // JavaScript for toggling the navbar visibility on mobile
    const hamburgerIcon = document.getElementById("hamburgerIcon");
    const navLinks = document.getElementById("ul3");

    // hamburgerIcon.addEventListener("click", () => {
    //   alert('clicked')

    //         if (navLinks.classList.contains("hide")) {
    //           navLinks.classList.toggle("hide");
    //           navLinks.style.display= "flex";
    //           navLinks.style.flexDirection = "column"
    //         }
    //     });


    hamburgerIcon.addEventListener("click", () => {
      navLinks.classList.toggle("active");



    });
       //for Noticeboard
       function toggleChatPopup() {
    var chatPopup = document.getElementById("chat-popup");
    var chatBtn = document.getElementById("chat-btn");
    if (chatPopup.style.display === "none" || chatPopup.style.display === "") {
        chatPopup.style.display = "block";
        chatPopup.style.color = "beige";
        chatBtn.style.display = "none";
    } else {
        chatPopup.style.display = "none";
        chatBtn.style.display = "block";
    }
}


  </script>
</body>

</html>